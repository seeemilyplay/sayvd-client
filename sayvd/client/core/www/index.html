<!DOCTYPE HTML>
<html>
<head>
  <title>Sayvd</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="libs/css/jquery.mobile.min.css"/>

  <link rel="stylesheet" href="css/styles.css"/>

  <script src="libs/jquery-1.7.2.min.js"></script>
  <script src="libs/jquery.mobile.min.js"></script>
  <script src="cordova-1.7.0.js"></script>

  <script src="libs/underscore-min.js"></script>
  <script src="libs/backbone-min.js"></script>


  <script src="js/models/habitmodel.js"></script>
  <script src="js/models/goalmodel.js"></script>
  <script src="js/models/savemodel.js"></script>
  <script src="js/models/appmodel.js"></script>

  <script src="js/views/habitview.js"></script>
  <script src="js/views/goalview.js"></script>
  <script src="js/views/saveview.js"></script>
  <script src="js/views/feedview.js"></script>
</head>
<body>

  <script type="text/javascript">
    var app = new App();
  </script>

  <div data-role="page" id="intro">
    <div data-role="header"><h1>Sayvd</h1></div> 
    <div data-role="content">
	  <div>Intro ...</div>
	  <a href="#save">OK</a>
    </div>
  </div>
  
  <div data-role="page" id="save">
    <div data-role="header"><h1>Sayvd</h1></div> 
  <div data-role="content">
      <div>
        <span>I didn't </span><span class="habit"></span><span> and</span>
      </div>
      <div>saved £ <input type="range" name="amount" value="1.0" min="0.1" step="0.01" max="50" class="currency"></input></div>
      <div>
        <span>for a </span><span class="goal"></span>
      </div>
      <a href="#feed" data-role="button">Save</a>
    </div> 
    <div data-role="footer" data-position="fixed">
      <div data-role="navbar">
        <ul>
          <li><a href="#feed">Feed</a></li>
          <li><a href="#save" class="ui-btn-active ui-state-persist">Save</a></li>
          <li><a href="#goal">Goals</a></li>
          <li><a href="#config">Settings</a></li>
        </ul>
      </div>
    </div>
  </div>
  
  <script type="text/javascript">
    var saveview = new SaveView({
      model: app,
      el: jQuery("#save"),
      app: app
    });
  </script>

  <div data-role="page" id="habit">
    <div data-role="header"><h1>Sayvd</h1></div> 
    <div data-role="content">
    <input type="text" value="Type your habit"></input>
    <a data-role="button" data-inline="true" >OK</a>
    <ul data-role="listview">
    </ul>
    </div> 
    <div data-role="footer" data-position="fixed">
      <div data-role="navbar">
        <ul>
          <li><a href="#feed">Feed</a></li>
          <li><a href="#save" class="ui-btn-active ui-state-persist">Save</a></li>
          <li><a href="#goal">Goals</a></li>
          <li><a href="#config">Settings</a></li>
        </ul>
      </div>
    </div>
  </div>

  <script type="text/javascript">
    var habitview = new HabitView({
      model: app.get("habits"),
      el: jQuery("#habit"),
      onselect: function(habit) {
        app.set({currenthabit: habit});
      }
    });
  </script>

  <div data-role="page" id="goal">
    <div data-role="header">
      <h1>Sayvd</h1>
      <div data-role="navbar">
        <ul>
          <li><a href="#goal" class="ui-btn-active ui-state-persist">My goals</a></li>
          <li><a href="#newgoal">New goal</a></li>
        </ul>
      </div>
    </div>
    <div data-role="content">
      <ul data-role="listview">
      </ul>
    </div>
    <div data-role="footer" data-position="fixed">
      <div data-role="navbar">
        <ul>
          <li><a href="#feed">Feed</a></li>
          <li><a href="#save">Save</a></li>
          <li><a href="#goal" class="ui-btn-active ui-state-persist">Goals</a></li>
          <li><a href="#config">Settings</a></li>
        </ul>
      </div>
    </div>
  </div>

  <script type="text/template" id="goal-li-template">
    <li>
      <div>Goal</div>
      <div>
        <div class="left"><div class="percentage"><%= percentage %>%</div></div>
        <div class="right">
          <div><%= name %></div>
          <div>Saved £<%= saved %> of £<%= target %></div>
        </div>
      </div>
    </li>
  </script>

  <script type="text/javascript">
    var goalview = new GoalView({
      model: app.get("goals"),
      el: jQuery("#goal")
    });
  </script>

  <div data-role="page" id="newgoal">
    <div data-role="header">
      <h1>Sayvd</h1>
      <div data-role="navbar">
        <ul>
          <li><a href="#goal">My goals</a></li>
          <li><a href="#newgoal" class="ui-btn-active ui-state-persist">New goal</a></li>
        </ul>
      </div>
    </div>
    <div data-role="content">
      <div class="subtitle">Set a new goal</div>
      <div>What are you saving for?</div>
      <input type="text" value="Goal"></input>
      <div>Price £ <input type="range" name="target" value="100" min="20" step="10" max="1000" class="currency"></input></div>
      <a href="#goal" data-role="button">Save</a>
    </div>
    <div data-role="footer" data-position="fixed">
      <div data-role="navbar">
        <ul>
          <li><a href="#feed">Feed</a></li>
          <li><a href="#save">Save</a></li>
          <li><a href="#goal" class="ui-btn-active ui-state-persist">Goals</a></li>
          <li><a href="#config">Settings</a></li>
        </ul>
      </div>
    </div>
  </div>

  <script type="text/javascript">
    var newgoalview = new NewGoalView({
      model: app.get("goals"),
      el: jQuery("#newgoal")
    });
  </script>

  <div data-role="page" id="feed">
    <div data-role="header"><h1>Sayvd</h1></div>
    <div data-role="content">
      <ul data-role="listview">
      </ul>
    </div>
    <div data-role="footer" data-position="fixed">
      <div data-role="navbar">
        <ul>
          <li><a href="#feed" class="ui-btn-active ui-state-persist">Feed</a></li>
          <li><a href="#save">Save</a></li>
          <li><a href="#goal">Goals</a></li>
          <li><a href="#config">Settings</a></li>
        </ul>
      </div>
    </div>
  </div>

  <script type="text/template" id="feed-li-template">
    <li>
        I didn't <%= habit %> and saved £<%= amount %> for a <%= goal %>
    </li>
  </script>

  <script type="text/javascript">
    var feedview = new FeedView({
      model: app.get("saves"),
      el: jQuery("#feed")
    });
  </script>

  <div data-role="page" id="config">
    <div data-role="header"><h1>Sayvd</h1></div> 
    <div data-role="content">
      <div>I've not made this yet!</div>
    </div>
    <div data-role="footer" data-position="fixed">
      <div data-role="navbar">
        <ul>
          <li><a href="#feed">Feed</a></li>
          <li><a href="#save">Save</a></li>
          <li><a href="#goal">Goals</a></li>
          <li><a href="#config" class="ui-btn-active ui-state-persist">Settings</a></li>
        </ul>
      </div>
    </div>
  </div>

</body>
</html>